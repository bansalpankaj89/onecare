angular.module("mediDocApp",["ionic","ngCordova","mediDocApp.service","mediDocApp.directive","mediDocApp.controller","ui.router"]).run(function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})})(function(){function e(e,t){t.otherwise("/patientlist"),e.state("home",{url:"/",templateUrl:"app/home/home.view.html",controller:"homeController as homeCtrl"}).state("home.patient-list",{url:"patientlist",templateUrl:"app/home/patient-list/patientlist.view.html",controller:"patientListController as patListCtrl"}).state("home.menu-preference",{url:"menupreference",templateUrl:"app/home/menu-preference/menupreference.view.html"}).state("home.favourite-diagnoisis",{url:"favouritediagnoisis",templateUrl:"app/home/favourite-diagnoisis/favouritediagnoisis.view.html"}).state("home.facourite-procedures",{url:"facouriteprocedures",templateUrl:"app/home/facourite-procedures/facouriteprocedures.view.html"}).state("home.design-template",{url:"designtemplate",templateUrl:"app/home/design-template/designtemplate.view.html",controller:"designTemplateController as desiTempCtrl"}).state("home.terms-conditions",{url:"termsconditions",templateUrl:"app/home/terms-conditions/termsconditions.view.html"}).state("home.patient",{url:"patient",template:"<ion-nav-view></ion-nav-view>"}).state("home.patient.view",{url:"/:id",templateUrl:"app/home/patient/view/patient.view.html",controller:"patientController as patCtrl",onEnter:function(){}}).state("home.patient.registration",{url:"registration/:id",templateUrl:"app/home/patient/registration/registration.view.html",controller:"registrationController as patRegCtrl"}).state("home.settings",{url:"settings",templateUrl:"app/home/settings/settings.view.html",controller:"settingsController as setCtrl"}).state("home.patient.observation",{url:"observation/:id",templateUrl:"app/home/patient/observation/observations.html"})}angular.module("mediDocApp").config(["$stateProvider","$urlRouterProvider",e])})(),function(){angular.module("mediDocApp.controller",["onezone-datepicker","ngMaterial","ngMdIcons"])}(),function(){function e(e,t,i,n){var o=this;return i.ready(function(){n.initDB(),n.getAllBirthdays().then(function(e){o.birthdays=e})}),t.fromTemplateUrl("add-or-edit-birthday.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modal=t}),o.showAddBirthdayModal=function(){e.birthday={},e.action="Add",e.isAdd=!0,e.modal.show()},o.showEditBirthdayModal=function(t){e.birthday=t,e.action="Edit",e.isAdd=!1,e.modal.show()},e.saveBirthday=function(){e.isAdd?n.addBirthday(e.birthday):n.updateBirthday(e.birthday),e.modal.hide()},e.deleteBirthday=function(){n.deleteBirthday(e.birthday),e.modal.hide()},e.$on("$destroy",function(){e.modal.remove()}),o}angular.module("mediDocApp.controller").controller("overviewController",["$scope","$ionicModal","$ionicPlatform","birthdayService",e])}(),function(){"use strict";function e(e){function t(){}t()}angular.module("mediDocApp.controller").controller("historyController",["$scope",e])}(),function(){"use strict";function e(e){function t(){i.takePhoto=function(){function e(e){var t=document.getElementById("myImage");t.src=e}function t(e){}navigator.camera.getPicture(e,t,{quality:50,destinationType:Camera.DestinationType.FILE_URI})},e.choosePhoto=function(){var t={quality:75,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:300,targetHeight:300,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1};$cordovaCamera.getPicture(t).then(function(t){e.imgURI="data:image/jpeg;base64,"+t},function(e){})},e.items=[{src:"img/meee.png",sub:"This is a subtitle"},{src:"img/typhoid.jpg",sub:"commets"},{src:"img/typhoid.jpg",sub:"sub"}]}var i=this;t()}angular.module("mediDocApp.controller").controller("mediaController",["$scope",e])}(),function(){"use strict";function e(e){function t(){i.data={showDelete:!1},i.edit=function(e){},i.share=function(e){},i.moveItem=function(e,t,n){i.items.splice(t,1),i.items.splice(n,0,e)},i.onItemDelete=function(e){i.items.splice(i.items.indexOf(e),1)},i.items=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12},{id:13},{id:14},{id:15}]}var i=this;t()}angular.module("mediDocApp.controller").controller("notificationController",["$scope",e])}(),function(){"use strict";function e(e){function t(){e.timeline=[{date:new Date,title:"Patient released",author:"Ludo Anderson",profilePicture:"/meee.png",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness",type:"location"},{date:new Date,title:"X ray",author:"Sara Orwell",profilePicture:"/meee.png",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness and injuries.",type:"text"},{date:new Date,title:"Blood test",author:"Miranda Smith",profilePicture:"/meee.png",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness",type:"video"},{date:new Date,title:"Patient admited",author:"John Mybeweeg",profilePicture:"/meee.png",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness and injuries. Medical doctors go to medical school to be trained. They usually hold a college degree in medicine.",type:"picture"}],e.changeTimeline=function(){i.showPic=!i.showPic}}var i=this;i.showPic=!0,t()}angular.module("mediDocApp.controller").controller("timelineController",["$scope",e])}(),function(){angular.module("mediDocApp.directive",["onezone-datepicker","ion-gallery"]),angular.module("mediDocApp.directive").config(function(e){e.setGalleryConfig({action_label:"Close",toggle:!1,row_size:3,fixed_row_size:!0})})}(),function(){function e(){return{restrict:"AE",scope:{avatar:"="},templateUrl:"app/directive/medi-avatar.directive.html"}}angular.module("mediDocApp.directive").directive("mediAvatar",[e])}(),function(){function e(){var e=function(e,t,i){e.toggleGroup=function(){e.showContent=!e.showContent},e.$on("item-selected",function(e){}),e.isItemSelected=function(){}};return{restrict:"EA",transclude:!0,scope:{itemName:"@"},templateUrl:"app/directive/medi-dropdown.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediDropdown",[e])}(),function(){function e(){var e=function(e,t,i){e.itemSelected=function(t){if("false"==i.multiSelect)e.selectedItems=[],e.selectedItems.push(t);else if(e.selectedItems.indexOf(t)>=0){var n=e.selectedItems.indexOf(t);e.selectedItems.splice(n,1)}else e.selectedItems.push(t);e.selectedItems.length>0?e.$broadcast("item-selected","true"):e.$broadcast("item-selected","false")},e.isSelected=function(t){return e.selectedItems?e.selectedItems.indexOf(t)>=0:!1},e.searchFilter="",e.itemName=i.itemName,e.shownGroup=!1,e.toggleGroup=function(){return e.shownGroup=!e.shownGroup},e.isItemSelected=function(){return!!(e.selectedItems&&e.selectedItems.length>0)};var n=function(){};n()};return{restrict:"E",scope:{itemCollection:"=",selectedItems:"=",multiSelect:"@",searchFilter:"="},templateUrl:"app/directive/medi-list-selection.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediListSelection",[e])}(),function(){function e(){return{restrict:"E",scope:{onSelect:"&",itemSelected:"="},transclude:!0,templateUrl:"app/directive/medi-list.directive.html"}}angular.module("mediDocApp.directive").directive("mediList",[e])}(),function(){function e(){var e=function(e,t,i){e.toggle=function(){e.toggleValue=!e.toggleValue}};return{restrict:"E",scope:{toggleValue:"="},templateUrl:"app/directive/medi-toggle-button.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediToggleButton",[e])}(),function(){function e(e,t,i,n,o,a,r){var c=function(c,l,d){c.patient={},c.patient.primartStaff={},c.patient.associatedStaffs=[],c.staffs=[],c.patientStatus=[],c.associatedStaffs=[],c.patient.selectedStaffs=[],c.patient.diagnosis=[],c.patient.procedures=[],c.patient.appointmentListCollection=[],c.patient.medicationPrescripCollection=[],c.patient.medicalTestCollection=[],c.drugCollection=n.drugCollection.map(function(e){return{description:e.pharmacological,value:e.id}}),c.routeCollection=n.routeCollection.map(function(e){return{description:e,value:e}}),c.patient.medicationPrescriptionCollection=[],c.drugFrequencyCollection=n.frequencyCollection.map(function(e){return{description:e.description,value:e.tag}}),c.patientStatus=[{description:"Admit",value:"Admit"},{description:"Under Treatment",value:"Under Treatment"},{description:"Operation",value:"Operation"},{description:"Recovery",value:"Recovery"},{description:"Cured",value:"Cured"},{description:"Discharged",value:"Discharged"},{description:"Death",value:"Death"}],c.appointmentTypes=[{description:"Blood Test",value:"Blood Test"},{description:"X-Ray",value:"X-Ray"},{description:"Medicine",value:"Medicine"},{description:"Suger Test",value:"Suger Test"},{description:"Other",value:"Other"}];for(var s=0;10>s;s++)c.staffs.push({id:s,name:"Staff "+s,designation:"designation "+s,pic:"img/person"+s+".jpg"});c.routeObservations=function(){r.go("home.patient.observation",{id:a.id})},c.associatedStaffs=c.staffs.map(function(e){return{description:e.name+" "+e.designation,pic:e.pic,info:e}}),c.openStaffAssignment=function(){c.data={};e.show({templateUrl:"app/view/hospital.staff.view.html",title:"Assign Staff",subTitle:"",scope:c,buttons:[{text:"Cancel"},{text:"<b>Save</b>",type:"button-positive",onTap:function(e){}}]})},c.assignTemplate=function(){o.initDB(),o.getAllTemplates().then(function(e){u(e)},function(e){})};var u=function(t){c.medicationTestCollection=t.map(function(e){return{description:e.name,value:e.name}}),c.medicalTests={},c.medicalTests.selectedTests=[],e.show({templateUrl:"app/view/hospital.medication.test.selection.html",title:"Tests",scope:c,buttons:[{text:"Cancel"},{text:"Save",type:"button-primary",onTap:function(e){if(0==c.medicalTests.selectedTests.length)e.preventDefault();else for(var t=0;t<c.medicalTests.selectedTests.length;t++)c.patient.medicalTestCollection.push({description:c.medicalTests.selectedTests[t].value,test:c.medicalTests.selectedTests[t]})}}]})};c.prescripeMedicine=function(){c.prescription={};e.show({templateUrl:"app/view/hospital.medication.prescription.selection.html",title:"Medications",scope:c,buttons:[{text:"Cancel"},{text:"Save",type:"button-primary",onTap:function(e){0==c.prescription.selectedDrugs.length||0==c.prescription.selectedRoutine.length||0==c.prescription.selectedFrequency.length?e.preventDefault():c.patient.medicationPrescripCollection.push({description:c.prescription.selectedDrugs[0].description+" "+(c.prescription.dosage?c.prescription.dosage:"")+" "+c.prescription.selectedFrequency[0].value+" "+c.prescription.selectedRoutine[0].description,prescription:c.prescription})}}]})},c.openStaffInfo=function(t){c.staff=t;e.show({templateUrl:"app/view/hospital.staff.info.html",title:"Send Message",subTitle:"",scope:c,buttons:[{text:"Cancel"},{text:'<i class="icon ion-paper-airplane"></i>',type:"button-balanced",onTap:function(e){}}]})},c.addAppointments=function(){c.newAppointmentDate=new Date,c.appointmentNotes="",c.newAppointment={date:new Date,mondayFirst:!1,startDate:new Date,disablePastDays:!1,disableSwipe:!1,disableWeekend:!1,showDatepicker:!1,showTodayButton:!0,calendarMode:!1,hideCancelButton:!1,hideSetButton:!1,highlights:[{date:new Date(2016,4,23),color:"#8FD4D9",textColor:"#fff"}],callback:function(e){c.newAppointmentDate=e}};e.show({templateUrl:"app/view/hospital.staff.appointment.edit.html",title:"Add Appointment",subTitle:"",scope:c,buttons:[{text:"Cancel"},{text:'<i class="icon ion-paper-airplane"></i>',type:"button-positive",onTap:function(e){c.patient.appointmentListCollection.push({by:"Dr. Ravi",date:c.newAppointmentDate,notes:c.appointmentNotes,description:"By : Dr. Ravi on : "+moment(c.newAppointmentDate).format("DD/MM/YYYY")+" <br> Note : "+c.appointmentNotes})}}]})};var p=function(){t.getAll().then(function(e){c.diagnosisCollection=e.map(function(e){return{description:e.description,id:e.id}})},function(e){}),i.getAll().then(function(e){c.procedureCollection=e.map(function(e){return{description:e.description,id:e.id}})},function(e){})};p()};return{restrict:"E",scope:!0,templateUrl:"app/directive/mediPatientDetail.directive.html",link:c}}angular.module("mediDocApp.directive").directive("mediPatientDetail",["$ionicPopup","diagnosisService","procedureService","medicationService","testTemplateService","$stateParams","$state",e])}(),function(){function e(){var e=function(e,t,i){};return{restrict:"E",scope:{},templateUrl:"app/directive/mediPatientHistory.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediPatientHsitory",[e])}(),function(){function e(){var e=function(e,t,i){e.capturePhoto=function(){navigator.camera.getPicture(n,o,{quality:50,destinationType:Camera.DestinationType.FILE_URI})};var n=function(e){var t=$("#myImage");t.src=e},o=function(e){};e.mediaCollections=[{src:"img/person1.jpg",sub:"This is a subtitle"},{src:"img/person2.jpg",sub:"commets"},{src:"img/person3.jpg",sub:"sub"}]};return{restrict:"E",scope:{},templateUrl:"app/directive/mediPatientMedia.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediPatientMedia",[e])}(),function(){function e(){var e=function(e,t,i){e.settings={showDelete:!1},e.onEdit=function(e){},e.onShare=function(e){},e.onMove=function(t,i,n){e.notifications.splice(i,1),e.notifications.splice(n,0,t)},e.onDelete=function(t){e.notifications.splice(e.notifications.indexOf(t),1)},e.notifications=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12},{id:13},{id:14},{id:15}]};return{restrict:"E",scope:{},templateUrl:"app/directive/mediPatientNotification.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediPatientNotification",[e])}(),function(){function e(){var e=function(e,t,i){e.timelineCollection=[{date:new Date,title:"Patient released",author:"Ludo Anderson",profilePicture:"/person1.jpg",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness",type:"location"},{date:new Date,title:"X ray",author:"Sara Orwell",profilePicture:"/person2.jpg",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness and injuries.",type:"text"},{date:new Date,title:"Blood test",author:"Miranda Smith",profilePicture:"/person3.jpg",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness",type:"video"},{date:new Date,title:"Patient admited",author:"John Mybeweeg",profilePicture:"/person4.jpg",text:"A medical doctor (also called a physician) is a person who practices medicine to treat illness and injuries. Medical doctors go to medical school to be trained. They usually hold a college degree in medicine.",type:"picture"}],e.changeTimeline=function(){e.showPic=!e.showPic}};return{restrict:"E",scope:{},templateUrl:"app/directive/mediPatientTimeline.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediPatientTimeline",[e])}(),function(){function e(){return{templateUrl:"app/directive/mediSearch.directive.html"}}angular.module("mediDocApp.directive").directive("mediSearch",[e])}(),function(){function e(){var e=function(e,t,i){};return{restrict:"E",scope:{itemCollection:"=",selectedItems:"=",multiSelect:"@",searchFilter:"="},templateUrl:"app/directive/mediStaffSearch.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediStaffSearch",e)}(),function(){function e(e){var t=function(e,t,i){};return{restrict:"E",scope:!0,templateUrl:"app/directive/mediTemplateDesign.direcitive.html",link:t}}angular.module("mediDocApp.directive").directive("mediTemplateDesign",["testTemplateService",e])}(),function(){function e(){var e=function(e,t,i){e.selectedItem="-",e.unitList=["","mg/dL","units/L","mEq/L","%","mm Hg","cells/μL","μg/dL","mm/hour","g/dL","pg/cell","cubic μm","mOsm/kg","seconds","ng/mL","million/mL"]};return{restrict:"E",scope:{selectedItem:"="},templateUrl:"app/directive/mediUnitDropdownList.directive.html",link:e}}angular.module("mediDocApp.directive").directive("mediUnitDropdownList",[e])}(),function(){function e(e,t,i,n){t.toggleLeft=function(){n.toggleLeft()},t.menu=[{link:"#/patientlist",title:"Home",icon:"ion-ios-medical-outline"},{link:"#/menupreference",title:"Menu Preferences",icon:"ion-arrow-swap"},{link:"#/favouritediagnoisis",title:"Favorite Diagnosis",icon:"ion-android-favorite-outline"},{link:"#/facouriteprocedures",title:"Favorite Procedures",icon:"ion-android-favorite-outline"},{link:"",title:"Favorite Drugs",icon:"ion-android-favorite-outline"},{link:"#/designtemplate",title:"Design Template",icon:"ion-erlenmeyer-flask"},{link:"#/termsconditions",title:"Terms & Conditions",icon:"ion-android-checkbox-outline"},{link:"#/settings",title:"Settings",icon:"ion-ios-gear-outline"},{link:"showListBottomSheet($event)",title:"Logout",icon:"ion-power"}]}angular.module("mediDocApp.controller").controller("homeController",["$rootScope","$scope","$state","$ionicSideMenuDelegate",e])}(),function(){function e(e){function t(){l=new PouchDB("birthdays",{adapter:"websql"})}function i(t){return e.when(l.post(t))}function n(t){return e.when(l.put(t))}function o(t){return e.when(l.remove(t))}function a(){return d?e.when(d):e.when(l.allDocs({include_docs:!0})).then(function(e){return d=e.rows.map(function(e){return e.doc.Date=new Date(e.doc.Date),e.doc}),l.changes({live:!0,since:"now",include_docs:!0}).on("change",r),d})}function r(e){var t=c(d,e.id),i=d[t];e.deleted?i&&d.splice(t,1):i&&i._id===e.id?d[t]=e.doc:d.splice(t,0,e.doc)}function c(e,t){for(var i,n=0,o=e.length;o>n;)i=n+o>>>1,e[i]._id<t?n=i+1:o=i;return n}var l,d;return{initDB:t,getAllBirthdays:a,addBirthday:i,updateBirthday:n,deleteBirthday:o}}angular.module("mediDocApp.service").factory("birthdayService",["$q",e])}(),function(){function e(e,t){var i=new Firebase("https://popping-inferno-1947.firebaseio.com/diagnosis/"),n=t(i),o=function(t){return e(function(e,i){n.$add(t).then(function(t){return e(t)},function(e){return i(e)})})},a=function(t){return e(function(e,i){n.$loaded().then(function(i){var n=i.$getRecord(t);return e(n)},function(e){return i(e)})})},r=function(t){return e(function(e,i){n.$save(t).then(function(t){return e(t)},function(e){return i(e)})})},c=function(){return e(function(e,t){n.$loaded().then(function(t){var i=t.filter(function(e){return e.status});return e(i)},function(e){return t(e)})})};return{create:o,update:r,getById:a,getAll:c}}angular.module("mediDocApp.service").factory("diagnosisService",["$q","$firebaseArray",e])}(),function(){function e(e){var t=[{name:"Ultrasound",id:"001"},{name:"Liver Biopsy",id:"002"},{name:"Barium Swallow (Upper GI Series)",id:"003"},{name:"Ferritin Blood Test",id:"004"},{name:"Breast Biopsy",id:"005"},{name:"HDL Cholesterol Test (Cholesterol Test)",id:"006"},{name:"Hemoglobin A1c Test",id:"007"},{name:"Kidney Function (Creatinine Blood Test)",id:"008"},{name:"Mean Cell Volume (Complete Blood Count)",id:"009"},{name:"MPV (Complete Blood Count)",id:"010"},{name:"OGTT (Glucose Tolerance Test)",id:"011"}];return{testCollection:t}}angular.module("mediDocApp.service").factory("medicalTestService",["$q",e])}(),function(){function e(e){var t=[{pharmacological:"Paracetamol",id:"001",brands:[]},{pharmacological:"Pradaxa",id:"002",brands:["Pradaxa"]},{pharmacological:"Acetaminophen",id:"003",brands:["Actamin","Apra","Mapap","Q-Pap","Tactinal","Tempra","Tycolene","Tylenol","Vitapap"]},{pharmacological:"Amoxicillin",id:"004",brands:["Amoxil","Moxatag","Trimox","Wymox","Amoxil Pediatric Drops","Biomox","Amoxicot","Moxilin","Dispermox"]},{pharmacological:"Bactroban",id:"005",brands:["Bactroban","Centany","Centany AT Kit"]},{pharmacological:"Dextromethorphan",id:"006",brands:["Babee Cof","Benylin DM Pediatric","Buckleys Mixture","Creomulsion","Creo-Terpin","DayQuil Cough","Delsym","Delsym 12 Hour Cough Relief","Elixsure Cough","Robafen Cough Liquidgels","Robitussin CoughGels","Scot-Tussin Diabetic","Silphen DM","St. Joseph Cough Suppressant","Sucrets DM Cough","Theraflu Thin Strips Cough","Triaminic Long Acting Cough"]}],i=[{description:"",id:""}],n=["Oral","Ophthalmic","Inhalational","Parenteral","Topical"],o=[{description:"every day",tag:"q.d."},{description:"every other day",tag:"q.o.d."},{description:"every hour",tag:"q.h."},{description:"every 2 hours",tag:"q.2.h."},{description:"every 3 hours",tag:"q.3.h."},{description:"every 4 hours",tag:"q.4.h."},{description:"every 6 hours",tag:"q.6.h."},{description:"every 8 hours",tag:"q.8.h."},{description:"twice a day",tag:"b.i.d"},{description:"three times a day",tag:"t.i.d"},{description:"four times a day",tag:"q.i.d"},{description:"every morning",tag:"q.a.m."},{description:"at bedtime",tag:"h.s."},{description:"every bedtime",tag:"q.h.s."},{description:"before meals",tag:"a.c."},{description:"after meals",tag:"p.c."},{description:"as desired",tag:"ad lib"},{description:"as necessary",tag:"s.o.s."},{description:"when necessary/required",tag:"p.r.n."},{description:"as much as required",tag:"q.s."}];return{drugCollection:t,dosageCollection:i,routeCollection:n,frequencyCollection:o}}angular.module("mediDocApp.service").factory("medicationService",["$q",e])}(),function(){function e(e,t){var i=new Firebase("https://popping-inferno-1947.firebaseio.com/patients/"),n=t(i),o=function(e){n.$add(e).then(function(e){e.key()})},a=function(t){return e(function(e,i){n.$loaded().then(function(i){var n=i.$getRecord(t);return e(n)},function(e){return i(e)})})},r=function(e){n.$save(e)},c=function(){return e(function(e,t){n.$loaded().then(function(t){return e(t)},function(e){return t(e)})})};return{create:o,update:r,getById:a,getAll:c}}angular.module("mediDocApp.service").factory("patientService",["$q","$firebaseArray",e])}(),function(){function e(e,t){var i=new Firebase("https://popping-inferno-1947.firebaseio.com/precedure/"),n=t(i),o=function(t){return e(function(e,i){n.$add(t).then(function(t){return e(t)},function(e){return i(e)})})},a=function(t){return e(function(e,i){n.$loaded().then(function(i){var n=i.$getRecord(t);return e(n)},function(e){return i(e)})})},r=function(t){return e(function(e,i){n.$save(t).then(function(t){return e(t)},function(e){return i(e)})})},c=function(){return e(function(e,t){n.$loaded().then(function(t){var i=t.filter(function(e){return e.status});return e(i)},function(e){return t(e)})})};return{create:o,update:r,getById:a,getAll:c}}angular.module("mediDocApp.service").factory("procedureService",["$q","$firebaseArray",e])}(),function(){angular.module("mediDocApp.service",["firebase"])}(),function(){function e(e){function t(){l=new PouchDB("testTemplates",{adapter:"websql"})}function i(t){return e.when(l.post(t))}function n(t){return e.when(l.put(t))}function o(t){return e.when(l.remove(t))}function a(){return d?e.when(d):e.when(l.allDocs({include_docs:!0})).then(function(e){return d=e.rows.map(function(e){return e.doc}),l.changes({live:!0,since:"now",include_docs:!0}).on("change",r),d})}function r(e){var t=c(d,e.id),i=d[t];e.deleted?i&&d.splice(t,1):i&&i._id===e.id?d[t]=e.doc:d.splice(t,0,e.doc)}function c(e,t){for(var i,n=0,o=e.length;o>n;)i=n+o>>>1,e[i]._id<t?n=i+1:o=i;return n}var l,d;return{initDB:t,getAllTemplates:a,addTemplate:i,updateTemplate:n,deleteTemplate:o}}angular.module("mediDocApp.service").factory("testTemplateService",["$q",e])}(),function(){function e(e,t,i){function n(){i.initDB(),i.getAllTemplates().then(function(e){o.templates=e})}var o=this;e.template={name:"",description:"",log:[]},o.deleteTemplate=function(){i.deleteTemplate(e.template),e.modalTemp.hide()},o.saveTemplate=function(){e.isAdd?i.addTemplate(e.template):i.updateTemplate(e.template),e.modalTemp.hide()},o.showAddTemplateModal=function(){e.action="Add",e.isAdd=!0,e.modalTemp.show()},o.closeAddTemplateModal=function(){e.modalTemp.hide()},o.showEditTemplateModal=function(t){e.template=t,e.action="Edit",e.isAdd=!1,e.modalTemp.show()},e.closeEditTemplateModal=function(){e.modalTemp.hide()},t.fromTemplateUrl("app/view/hospital.designtemplate.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modalTemp=t}),t.fromTemplateUrl("app/view/hospital.templatestructure.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modalStructure=t}),e.$on("$destroy",function(){e.modalTemp.remove()}),o.showEditTemplateStructureModal=function(t){e.template=t,e.action="Edit",e.isAdd=!0,e.modalStructure.show()},o.addNewStructure=function(){e.template.structure.push({name:"",unit:""})},o.removeStructure=function(){var t=e.template.Structure.length-1;e.template.structure.splice(t)},o.saveTemplateStructure=function(){i.updateTemplate(e.template),e.modalStructure.hide()},o.closeTemplateStructureModal=function(){e.modalStructure.hide()},e.$on("$destroy",function(){e.modalStructure.remove()}),n()}angular.module("mediDocApp.controller").controller("designTemplateController",["$scope","$ionicModal","testTemplateService",e])}(),function(){function e(e,t,i,n,o){var a=this;a.patientList={id:"12",doctorName:"Pankaj Bansal",patients:[{id:1,name:"Desmond",contact:27272727,gender:"M",age:"45",bedDetail:{building:"Block 2",wardNo:"Ward 2",bedNo:"Bed 24"}},{id:2,name:"Rojer",contact:86868686,gender:"M",age:"24",bedDetail:{building:"Block 5",wardNo:"Ward 2",bedNo:"Bed 24"}},{id:3,name:"Sam",contact:46547474,gender:"M",age:"55",bedDetail:{building:"Block 1",wardNo:"Ward 3",bedNo:"Bed 4"}},{id:4,name:"Daisy",contact:27272727,gender:"W",age:"25",bedDetail:{building:"Block 5",wardNo:"Ward 5",bedNo:"Bed 14"}},{id:5,name:"George",contact:27272727,gender:"M",age:"55",bedDetail:{building:"Block 2",wardNo:"Ward 2",bedNo:"Bed 42"}},{id:6,name:"Pankaj",contact:87226936,gender:"M",age:"45",bedDetail:{building:"Block 1",wardNo:"Ward 3",bedNo:"Bed 11"}}]},a.patientDetail=function(e){o.go("home.patient.view",{id:e.id,name:e.name})},i.fromTemplateUrl("/app/view/consult.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modalConsult=t}),a.confirmUnfollow=function(){var e=t.confirm({title:"Unfollow Patient",template:"By unfollow this patient,you will not recieve any notifications further."});e.then(function(e){})},a.confirmDischarge=function(){var e=t.confirm({title:"Discharge Patient",template:"Are you sure you want to discharge this patient?"});e.then(function(e){})},a.confirmCall=function(e){cordova.InAppBrowser.open("tel:"+e,"_system")},a.confirmConsult=function(){e.modalConsult.show(),e.closeModal=function(){e.modalConsult.hide()}}}angular.module("mediDocApp.controller").controller("patientListController",["$scope","$ionicPopup","$ionicModal","$stateParams","$state",e])}(),function(){function e(e,t,i){var n=this;n.diagnosis={},n.init=function(){t.id&&i.getById(t.id).then(function(e){n.diagnosis=e},function(e){})},n.register=function(){t.id?a():o()};var o=function(){i.create(n.diagnosis)},a=function(){i.update(n.diagnosis)};n.init()}angular.module("mediDocApp.controller").controller("diagnosisController",["$scope","$stateParams","patientService",e])}(),function(){function e(e,t,i,n){var o=this;o.mode="create",o.loadDiagnosis=function(){o.action="Add",o.isAdd=!0,o.modalDiagnosisTemp.show(),i.getAll().then(function(e){o.diagnosisCollection=e},function(e){})},o.loadProcedure=function(){o.action="Add",o.isAdd=!0,o.modalProcedureTemp.show(),n.getAll().then(function(e){o.procedureCollection=e},function(e){})},o.editDiagnosis=function(e){o.diagnosis=e,o.mode="edit"},o.editProcedure=function(e){o.procedure=e,o.mode="edit"},o.saveDiagnosis=function(){"create"==o.mode?(o.diagnosis.status=!0,i.create(o.diagnosis).then(function(e){o.diagnosis={}},function(e){})):i.update(o.diagnosis).then(function(e){o.diagnosis={}},function(e){})},o.saveProcedure=function(){"create"==o.mode?(o.procedure.status=!0,n.create(o.procedure).then(function(e){o.procedure={},o.loadProcedure()},function(e){})):n.update(o.procedure).then(function(e){o.procedure={},o.loadProcedure()},function(e){})},o.removeDiagnosis=function(e){e.status=!1,i.update(e).then(function(e){o.diagnosis={}},function(e){})},o.removeProcedure=function(e){e.status=!1,n.update(e).then(function(e){o.procedure={}},function(e){})},o.closeTemplateStructureModal=function(){o.modalDiagnosisTemp.hide(),o.modalProcedureTemp.hide()},t.fromTemplateUrl("app/view/hospital.settings.diagnonsis.modal.html",{scope:e,animation:"slide-in-up"}).then(function(e){o.modalDiagnosisTemp=e}),t.fromTemplateUrl("app/view/hospital.settings.procedure.modal.html",{scope:e,animation:"slide-in-up"}).then(function(e){o.modalProcedureTemp=e})}angular.module("mediDocApp.controller").controller("settingsController",["$scope","$ionicModal","diagnosisService","procedureService",e])}(),function(){function e(e,t,i){var n=this;n.patient={},n.init=function(){t.id&&i.getById(t.id).then(function(e){n.patient=e},function(e){})},n.register=function(){t.id?a():o()};var o=function(){i.create(n.patient)},a=function(){i.update(n.patient)};n.init()}angular.module("mediDocApp.controller").controller("registrationController",["$scope","$stateParams","patientService",e])}(),function(){function e(e,t){e.patientName=t.name,e.$watch("selectedIndex",function(e,t){})}angular.module("mediDocApp.controller").controller("patientController",["$scope","$stateParams",e])}();